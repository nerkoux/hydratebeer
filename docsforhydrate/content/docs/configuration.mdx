---
title: Configuration
description: Configure üç∫ HydrateBeer for your needs
---

# Configuration

üç∫ HydrateBeer can be customized through the config file created during initialization.

## Configuration File

After running `npx hydrate-beer init`, you'll have `hydrate-beer.config.ts`:

```typescript title="hydrate-beer.config.ts"
export default {
  projectId: "proj_abc123...",          // Auto-generated unique ID
  passwordHash: "$2a$10$...",            // Bcrypt hash for dashboard access
  tinybirdToken: "p.ey...",              // Your Tinybird API token
  tinybirdRegion: "us-east",             // or "eu-central"
  sampleRate: 1.0,                       // Default: 1.0 (100%)
  slowRenderThreshold: 16,               // Default: 16ms (60fps)
  flushInterval: 5000,                   // Default: 5000ms
  batchSize: 50,                         // Default: 50 events
};
```

## Configuration Options

### projectId

**Type:** `string` (required, auto-generated)

Your unique project identifier. Generated automatically during `init`.

Example: `proj_a1b2c3d4e5f67890abcdef1234567890`

```typescript
export default {
  projectId: "proj_abc123...",
};
```

### passwordHash

**Type:** `string` (required, auto-generated)

Bcrypt hash of your dashboard password. Created during `init`.

**Security:** Passwords are hashed using bcrypt with 10 rounds. Never stored in plain text.

### tinybirdToken

**Type:** `string` (required)

Your Tinybird API token for data ingestion and querying.

Get your token from: [https://ui.tinybird.co/tokens](https://ui.tinybird.co/tokens)

```typescript
export default {
  tinybirdToken: "p.eyJ1Ijoig...",
};
```

### tinybirdRegion

**Type:** `"us-east"` | `"eu-central"` | **Default:** `"us-east"`

Tinybird region for your account.

```typescript
export default {
  tinybirdRegion: "us-east", // or "eu-central"
};
```

## Optional Settings

### sampleRate

**Type:** `number` | **Default:** `1.0`

Percentage of sessions to track (0.0 to 1.0).

```typescript
export default {
  sampleRate: 0.5, // Track 50% of sessions
};
```

**Use Cases:**
- **Development:** `1.0` (100%) - Track everything
- **Production:** `0.1` - `0.5` (10-50%) - Reduce data volume
- **High Traffic:** `0.01` (1%) - Sample large user bases

### slowRenderThreshold

**Type:** `number` (milliseconds) | **Default:** `16`

Threshold for flagging slow component renders.

```typescript
export default {
  slowRenderThreshold: 32, // Flag renders >32ms
};
```

**Benchmarks:**
- **16ms** = 60fps (smooth)
- **33ms** = 30fps (noticeable lag)
- **100ms** = Very slow

### flushInterval

**Type:** `number` (milliseconds) | **Default:** `5000`

How often to send batched metrics to Tinybird.

```typescript
export default {
  flushInterval: 10000, // Send every 10 seconds
};
```

**Considerations:**
- Lower values = More real-time, more API calls
- Higher values = Less API calls, delayed analytics

### batchSize

**Type:** `number` | **Default:** `50`

Maximum number of events to batch before auto-sending.

```typescript
export default {
  batchSize: 100, // Send after 100 events
};
```

**How it works:** Events are sent when either `batchSize` OR `flushInterval` is reached.

## Environment Variables

Create `.env.local` for Next.js/React:

```bash title=".env.local"
# Auto-generated by init command
NEXT_PUBLIC_HYDRATE_BEER_PROJECT_ID=proj_abc123...
NEXT_PUBLIC_HYDRATE_BEER_TINYBIRD_TOKEN=p.ey...
```

### Framework-Specific Variables

**Next.js:**
```bash
NEXT_PUBLIC_HYDRATE_BEER_PROJECT_ID=proj_...
```

**Vite:**
```bash
VITE_HYDRATE_BEER_PROJECT_ID=proj_...
```

**Create React App:**
```bash
REACT_APP_HYDRATE_BEER_PROJECT_ID=proj_...
```

## Provider Configuration

Pass config to the React provider:

```typescript title="app/layout.tsx"
import { HydrateBeerProvider } from "hydrate-beer-sdk/react";

export default function RootLayout({ children }) {
  return (
    <HydrateBeerProvider
      config={{
        projectId: process.env.NEXT_PUBLIC_HYDRATE_BEER_PROJECT_ID!,
        sampleRate: process.env.NODE_ENV === 'production' ? 0.5 : 1.0,
        slowRenderThreshold: 16,
        flushInterval: 5000,
        batchSize: 50,
      }}
    >
      {children}
    </HydrateBeerProvider>
  );
}
```

## Production Best Practices

### 1. Use Environment-Based Sampling

```typescript
const config = {
  projectId: process.env.NEXT_PUBLIC_HYDRATE_BEER_PROJECT_ID!,
  sampleRate: process.env.NODE_ENV === 'production' ? 0.2 : 1.0,
};
```

### 2. Adjust Thresholds by Device

```typescript
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

const config = {
  projectId: process.env.NEXT_PUBLIC_HYDRATE_BEER_PROJECT_ID!,
  slowRenderThreshold: isMobile ? 32 : 16, // Mobile gets more leeway
};
```

### 3. Conditional Initialization

```typescript
const shouldTrack = 
  process.env.NODE_ENV === 'production' && 
  !window.location.hostname.includes('localhost');

{shouldTrack && (
  <HydrateBeerProvider config={config}>
    {children}
  </HydrateBeerProvider>
)}
```

## Security Best Practices

### Password Management

üîê **Never commit passwords** - The password is for dashboard access only. If forgotten:

```bash
# Re-run init to reset password
npx hydrate-beer init
```

### Tinybird Token Security

üîí **Protect your token:**
- Add `.env.local` to `.gitignore`
- Use separate tokens for development/production
- Rotate tokens periodically
- Limit token permissions in Tinybird

```bash title=".gitignore"
.env.local
.env*.local
hydrate-beer.config.ts
```

### Session Timeout

The monitor dashboard auto-logs out after **5 minutes** of inactivity for security.

## Complete Example

```typescript title="hydrate-beer.config.ts"
export default {
  // Auto-generated during init
  projectId: "proj_a1b2c3d4e5f67890",
  passwordHash: "$2a$10$abcdefgh...",
  tinybirdToken: "p.eyJ1Ijoig...",
  tinybirdRegion: "us-east",
  
  // Performance tuning
  sampleRate: 0.5,              // 50% sampling in production
  slowRenderThreshold: 16,      // 60fps threshold
  flushInterval: 5000,          // Send every 5 seconds
  batchSize: 50,                // Or after 50 events
};
```

## Troubleshooting

### "Configuration not found"
Run `npx hydrate-beer init` to create config files.

### "Invalid Tinybird token"
Check your token at [tinybird.co/tokens](https://ui.tinybird.co/tokens) and update in config.

### Events not appearing
- Verify `projectId` matches in config and provider
- Check browser console for üç∫ HydrateBeer errors
- Ensure `setup-tinybird` was run successfully

## Next Steps

- [API Reference](/docs/api) - Full SDK API documentation
- [Tracking Guide](/docs/tracking) - Advanced tracking patterns
- [Tinybird Setup](/docs/tinybird) - Detailed Tinybird configuration

## Next Steps

- [Component Profiling](/docs/profiling) - Track specific components
- [Manual Tracking](/docs/manual-tracking) - Custom metrics
- [API Reference](/docs/api) - Complete API documentation
